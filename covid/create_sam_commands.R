# This is just a convenience file to save me from
# manually typing in accession numbers as I find them.

# Copy and paste (or drag and drop) links here.

urls1 <- "https://www.ncbi.nlm.nih.gov/sra/SRX9537817[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9537816[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4615584[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4615465[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4614837[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4614688[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4614620[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4614165[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4614147[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4614119[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9233401[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4613447[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4590348[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4582858[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4307528[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4307447[accn]
"

# Paired reads, added 2021-02-01
urls2 <- "https://www.ncbi.nlm.nih.gov/sra/SRX9986775[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9986775[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9986774[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9986773[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972496[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972495[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972494[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972493[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972492[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972485[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972480[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972477[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972476[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972474[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972471[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972468[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972464[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972459[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972457[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972456[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972453[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972451[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972446[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972441[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972436[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972435[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972431[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972429[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972426[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972420[accn]
https://www.ncbi.nlm.nih.gov/sra/SRX9972415[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4808768[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4808761[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4808737[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4808741[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4738954[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4738939[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4738933[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4738930[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4738921[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4738920[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4738901[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4738888[accn]
"


# unpaired reads - 2021-02-01
urls3 <-"https://www.ncbi.nlm.nih.gov/sra/ERX4888875[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888874[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888873[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888871[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888869[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888865[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888863[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888859[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888858[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888857[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888843[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888837[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888832[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888824[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888819[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888817[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888809[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888796[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888793[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888785[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888775[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888769[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888767[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888763[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888761[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888752[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888743[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888740[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888739[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888732[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888725[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4888719[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4887486[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4887480[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4887470[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4887465[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4887083[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4887077[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4887069[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4887061[accn]
https://www.ncbi.nlm.nih.gov/sra/ERX4887058[accn]
"


urls <- strsplit(urls3, split = "\n")[[1]]

# Process the URLs
commands <- c()
for(i in seq_along(urls)){
    test1 <- xml2::read_html(urls[i])
    test2 <- as.character(test1)
    # The string "run=" only appears at the accession number
    pos <- gregexpr("run=", test2)[[1]]
    # Sanity check
    print(substr(test2, pos, pos + 40))
    # returns a string like: "run=SRR13092001\">SRR13092001</a></td>\n<td"
    asc1 <- substr(test2, pos, pos + 40)
    # separate above string by angle brackets, take second element
    asc <- strsplit(asc1, split = "<|>")[[1]][2]
    # Create sam command
    com <- paste0("sam-dump ", asc, " > ", asc, ".sam")
    commands <- c(commands, com)
}
cat(commands, sep = "\n")




# Copying and pasting the output here to modify codes if necessary
cat('
sam-dump SRR13092001 > SRR13092001.sam # timed out
sam-dump SRR13092002 > SRR13092002.sam
sam-dump ERR4694498 > ERR4694498.sam
sam-dump ERR4694380 > ERR4694380.sam
sam-dump ERR4758772 > ERR4758772.sam
sam-dump ERR4693605 > ERR4693605.sam
sam-dump ERR4693537 > ERR4693537.sam
sam-dump ERR4693079 > ERR4693079.sam
sam-dump ERR4693061 > ERR4693061.sam
sam-dump ERR4693034 > ERR4693034.sam
sam-dump SRR12762573 > SRR12762573.sam
sam-dump ERR4692364 > ERR4692364.sam
sam-dump ERR4667618 > ERR4667618.sam
sam-dump ERR4664555 > ERR4664555.sam
sam-dump ERR4363387 > ERR4363387.sam
sam-dump ERR4364007 > ERR4364007.sam
spd-say "Hey devan your code is done"

')

# Take 2 - the paired reads on 2021-02-01
cat('
sam-dump SRR13592147 > SRR13592147.sam
sam-dump SRR13592147 > SRR13592147.sam
sam-dump SRR13592148 > SRR13592148.sam
sam-dump SRR13592149 > SRR13592149.sam
sam-dump SRR13574271 > SRR13574271.sam
sam-dump SRR13574272 > SRR13574272.sam
sam-dump SRR13574273 > SRR13574273.sam
sam-dump SRR13574274 > SRR13574274.sam
sam-dump SRR13574275 > SRR13574275.sam
sam-dump SRR13574282 > SRR13574282.sam
sam-dump SRR13574287 > SRR13574287.sam
sam-dump SRR13574290 > SRR13574290.sam
sam-dump SRR13574291 > SRR13574291.sam
sam-dump SRR13574293 > SRR13574293.sam
sam-dump SRR13574296 > SRR13574296.sam
sam-dump SRR13574299 > SRR13574299.sam
sam-dump SRR13574303 > SRR13574303.sam
sam-dump SRR13574308 > SRR13574308.sam
sam-dump SRR13574310 > SRR13574310.sam
sam-dump SRR13574311 > SRR13574311.sam
sam-dump SRR13574314 > SRR13574314.sam
sam-dump SRR13574316 > SRR13574316.sam
sam-dump SRR13574321 > SRR13574321.sam
sam-dump SRR13574326 > SRR13574326.sam
sam-dump SRR13574331 > SRR13574331.sam
sam-dump SRR13574332 > SRR13574332.sam
sam-dump SRR13574336 > SRR13574336.sam
sam-dump SRR13574338 > SRR13574338.sam
sam-dump SRR13574341 > SRR13574341.sam
sam-dump SRR13574347 > SRR13574347.sam
sam-dump SRR13574352 > SRR13574352.sam
sam-dump ERR4999282 > ERR4999282.sam
sam-dump ERR4999275 > ERR4999275.sam
sam-dump ERR4999251 > ERR4999251.sam
sam-dump ERR4999255 > ERR4999255.sam
sam-dump ERR4869512 > ERR4869512.sam
sam-dump ERR4869497 > ERR4869497.sam
sam-dump ERR4869490 > ERR4869490.sam
sam-dump ERR4869487 > ERR4869487.sam
sam-dump ERR4869480 > ERR4869480.sam
sam-dump ERR4869477 > ERR4869477.sam
sam-dump ERR4869458 > ERR4869458.sam
sam-dump ERR4869446 > ERR4869446.sam
spd-say "Hey devan your code is done"

')

# Take 2 - unpaired 2021-02-01
cat('
sam-dump ERR5082712 > ERR5082712.sam
sam-dump ERR5082711 > ERR5082711.sam
sam-dump ERR5082710 > ERR5082710.sam
sam-dump ERR5082708 > ERR5082708.sam
sam-dump ERR5082706 > ERR5082706.sam
sam-dump ERR5082702 > ERR5082702.sam
sam-dump ERR5082700 > ERR5082700.sam
sam-dump ERR5082696 > ERR5082696.sam
sam-dump ERR5082695 > ERR5082695.sam
sam-dump ERR5082694 > ERR5082694.sam
sam-dump ERR5082680 > ERR5082680.sam
sam-dump ERR5082674 > ERR5082674.sam
sam-dump ERR5082671 > ERR5082671.sam
sam-dump ERR5082664 > ERR5082664.sam
sam-dump ERR5082656 > ERR5082656.sam
sam-dump ERR5082654 > ERR5082654.sam
sam-dump ERR5082645 > ERR5082645.sam
sam-dump ERR5082639 > ERR5082639.sam
sam-dump ERR5082630 > ERR5082630.sam
sam-dump ERR5082622 > ERR5082622.sam
sam-dump ERR5082610 > ERR5082610.sam
sam-dump ERR5082606 > ERR5082606.sam
sam-dump ERR5082603 > ERR5082603.sam
sam-dump ERR5082600 > ERR5082600.sam
sam-dump ERR5082598 > ERR5082598.sam
sam-dump ERR5082590 > ERR5082590.sam
sam-dump ERR5082580 > ERR5082580.sam
sam-dump ERR5082578 > ERR5082578.sam
sam-dump ERR5082576 > ERR5082576.sam
sam-dump ERR5082569 > ERR5082569.sam
sam-dump ERR5082561 > ERR5082561.sam
sam-dump ERR5082556 > ERR5082556.sam
sam-dump ERR5081322 > ERR5081322.sam
sam-dump ERR5081316 > ERR5081316.sam
sam-dump ERR5081304 > ERR5081304.sam
sam-dump ERR5081301 > ERR5081301.sam
sam-dump ERR5080918 > ERR5080918.sam
sam-dump ERR5080913 > ERR5080913.sam
sam-dump ERR5080908 > ERR5080908.sam
sam-dump ERR5080897 > ERR5080897.sam
sam-dump ERR5080893 > ERR5080893.sam
spd-say "Hey devan your code is done"

')




